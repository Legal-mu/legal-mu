generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id            String         @id @default(uuid())
  firstName     String         @map("first_name")
  lastName      String         @map("last_name")
  email         String         @unique
  password      String?
  dateOfBirth   DateTime?      @map("date_of_birth") @db.Date
  role          UserRole       @default(CLIENT)
  isActive      Boolean        @default(true) @map("is_active")
  resetToken    String?        @map("reset_token")
  resetTokenExp DateTime?      @map("reset_token_exp")
  createdAt     DateTime       @default(now()) @map("created_at")
  updatedAt     DateTime       @updatedAt @map("updated_at")
  avatar        String?
  googleId      String?        @unique @map("google_id")
  status        UserStatus     @default(APPROVED)
  lawyerProfile LawyerProfile?

  @@map("users")
}

model LawyerProfile {
  id                 String            @id @default(uuid())
  userId             String            @unique @map("user_id")
  fullLegalName      String            @map("full_legal_name")
  title              ProfessionalTitle
  registrationNumber String            @map("registration_number")
  firmName           String?           @map("firm_name")
  address            String
  phoneNumber        String            @map("phone_number")
  mobileNumber       String            @map("mobile_number")
  websiteUrl         String?           @map("website_url")
  practiceAreas      String[]          @map("practice_areas")
  experienceYears    Int               @map("experience_years")
  jurisdictions      String[]
  languages          String[]
  biography          String
  valueProposition   String            @map("value_proposition")
  awards             String?
  createdAt          DateTime          @default(now()) @map("created_at")
  updatedAt          DateTime          @updatedAt @map("updated_at")
  user               User              @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("lawyer_profiles")
}

enum UserRole {
  ADMIN
  CLIENT
  LAWYER
}

enum UserStatus {
  PENDING
  APPROVED
  REJECTED
}

enum ProfessionalTitle {
  BARRISTER
  ATTORNEY
  NOTARY
}
